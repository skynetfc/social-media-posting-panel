<!DOCTYPE html>
<html lang="en" dir="ltr" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% block title %}Anonymous Creations{% endblock %}</title>
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/style.css">
    
    <!-- Extra Head Content -->
    {% block extra_head %}{% endblock %}
    
    <style>
        /* Arabic font support */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        .font-arabic {
            font-family: 'Noto Sans Arabic', sans-serif;
        }
        
        .font-english {
            font-family: 'Inter', sans-serif;
        }
        
        /* RTL support */
        [dir="rtl"] {
            text-align: right;
        }
        
        [dir="rtl"] .ltr-force {
            direction: ltr;
            text-align: left;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300 font-english" id="body-root">
    <!-- Enhanced Header with Logo and Controls -->
    <div class="fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-3">
                <!-- Logo Section -->
                <div class="flex items-center">
                    <div class="flex items-center mr-4">
                        <!-- Palestinian Flag SVG Logo -->
                        <svg width="32" height="24" viewBox="0 0 32 24" class="mr-3">
                            <!-- Red stripe -->
                            <rect x="0" y="0" width="32" height="8" fill="#CE1126"/>
                            <!-- White stripe -->
                            <rect x="0" y="8" width="32" height="8" fill="#FFFFFF"/>
                            <!-- Black stripe -->
                            <rect x="0" y="16" width="32" height="8" fill="#000000"/>
                            <!-- Triangle -->
                            <polygon points="0,0 0,24 16,12" fill="#007A3D"/>
                        </svg>
                        <div>
                            <h1 class="text-lg font-bold text-gray-900 dark:text-white" data-translate="brand_title">
                                Anonymous Creations
                            </h1>
                            <p class="text-xs text-gray-600 dark:text-gray-400" data-translate="brand_subtitle">
                                Social Media Dashboard
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Controls Section -->
                <div class="flex items-center gap-3">
                    <!-- Language Toggle -->
                    <button 
                        onclick="toggleLanguage()" 
                        class="flex items-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-300"
                        title="Toggle Language"
                    >
                        <span id="lang-icon" class="text-sm">🇺🇸</span>
                        <span class="ml-2 text-sm font-medium" id="lang-text">EN</span>
                    </button>
                    
                    <!-- Theme Toggle -->
                    <button 
                        onclick="toggleTheme()" 
                        class="flex items-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-300"
                        title="Toggle Theme"
                    >
                        <i id="theme-icon" class="fas fa-moon text-sm"></i>
                        <span class="ml-2 text-sm font-medium" id="theme-text">Dark</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Content Spacer -->
    <div class="pt-20"></div>

    {% block content %}{% endblock %}

    <!-- Language Translations -->
    <script>
        const translations = {
            en: {
                title: "Anonymous Creations",
                brand_title: "Anonymous Creations",
                brand_subtitle: "Social Media Dashboard",
                dashboard: "Dashboard",
                login: "Login",
                logout: "Logout",
                username: "Username",
                password: "Password",
                signin: "Sign In",
                create_post: "Create Post",
                content: "Content",
                select_platforms: "Select Platforms",
                upload_media: "Upload Media",
                schedule: "Schedule (Optional)",
                post_now: "Post Now",
                recent_posts: "Recent Posts",
                status: "Status",
                platforms: "Platforms",
                created: "Created",
                success: "Success",
                failed: "Failed",
                pending: "Pending",
                telegram: "Telegram",
                instagram: "Instagram",
                youtube: "YouTube",
                tiktok: "TikTok",
                facebook: "Facebook",
                no_posts: "No posts yet",
                posting: "Posting...",
                post_success: "Post completed successfully!",
                post_error: "Some platforms failed to post",
                file_too_large: "File size exceeds 10MB limit",
                invalid_file: "Invalid file type",
                select_platform: "Please select at least one platform",
                content_required: "Content is required"
            },
            ar: {
                title: "إبداعات مجهولة",
                brand_title: "إبداعات مجهولة",
                brand_subtitle: "لوحة تحكم وسائل التواصل",
                dashboard: "لوحة التحكم",
                login: "تسجيل الدخول",
                logout: "تسجيل الخروج",
                username: "اسم المستخدم",
                password: "كلمة المرور",
                signin: "دخول",
                create_post: "إنشاء منشور",
                content: "المحتوى",
                select_platforms: "اختر المنصات",
                upload_media: "رفع الوسائط",
                schedule: "الجدولة (اختياري)",
                post_now: "انشر الآن",
                recent_posts: "المنشورات الأخيرة",
                status: "الحالة",
                platforms: "المنصات",
                created: "تم الإنشاء",
                success: "نجح",
                failed: "فشل",
                pending: "قيد الانتظار",
                telegram: "تيليجرام",
                instagram: "انستجرام",
                youtube: "يوتيوب",
                tiktok: "تيك توك",
                facebook: "فيسبوك",
                no_posts: "لا توجد منشورات بعد",
                posting: "جارٍ النشر...",
                post_success: "تم النشر بنجاح!",
                post_error: "فشل النشر في بعض المنصات",
                file_too_large: "حجم الملف يتجاوز 10 ميجابايت",
                invalid_file: "نوع الملف غير صالح",
                select_platform: "يرجى اختيار منصة واحدة على الأقل",
                content_required: "المحتوى مطلوب"
            }
        };

        let currentLang = localStorage.getItem('language') || 'en';
        let currentTheme = localStorage.getItem('theme') || 'light';

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'ar' : 'en';
            localStorage.setItem('language', currentLang);
            updateLanguage();
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', currentTheme);
            updateTheme();
        }

        function updateLanguage() {
            const html = document.getElementById('html-root');
            const body = document.getElementById('body-root');
            const langIcon = document.getElementById('lang-icon');
            const langText = document.getElementById('lang-text');
            
            if (currentLang === 'ar') {
                html.dir = 'rtl';
                html.lang = 'ar';
                body.classList.add('font-arabic');
                body.classList.remove('font-english');
                if (langIcon) langIcon.textContent = '🇵🇸';
                if (langText) langText.textContent = 'العربية';
            } else {
                html.dir = 'ltr';
                html.lang = 'en';
                body.classList.add('font-english');
                body.classList.remove('font-arabic');
                if (langIcon) langIcon.textContent = '🇺🇸';
                if (langText) langText.textContent = 'EN';
            }
            
            // Update all translatable elements
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLang][key]) {
                    element.textContent = translations[currentLang][key];
                }
            });
            
            // Update placeholders
            document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                const key = element.getAttribute('data-translate-placeholder');
                if (translations[currentLang][key]) {
                    element.placeholder = translations[currentLang][key];
                }
            });
        }

        function updateTheme() {
            const html = document.documentElement;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            if (currentTheme === 'dark') {
                html.classList.add('dark');
                if (themeIcon) themeIcon.className = 'fas fa-sun text-sm';
                if (themeText) themeText.textContent = 'Light';
            } else {
                html.classList.remove('dark');
                if (themeIcon) themeIcon.className = 'fas fa-moon text-sm';
                if (themeText) themeText.textContent = 'Dark';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateLanguage();
            updateTheme();
        });

        // Utility function to get translation
        function t(key) {
            return translations[currentLang][key] || key;
        }
    </script>

    <!-- Custom JavaScript -->
    <script src="/static/script.js"></script>
</body>
</html>
